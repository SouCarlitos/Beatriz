<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<title>Planos</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<style>
*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;
}

/* FUNDO (sem “faixa” estranha embaixo) */
html, body{ min-height:100%; }

body{
  margin:0;
  color:#fff;
  display:flex;
  justify-content:center;

  background:
    radial-gradient(900px 520px at 50% -120px, #2a4f7a 0%, rgba(42,79,122,.55) 40%, rgba(13,31,51,0) 70%),
    linear-gradient(180deg, #0d2a47 0%, #0b1b2e 45%, #000 100%);
  background-attachment: fixed;
  background-repeat: no-repeat;
  background-size: cover;
}

.app{
  width:100%;
  max-width:430px;
  padding:16px;
}

/* TOPO */
.top{
  display:grid;
  grid-template-columns:40px 1fr 40px;
  align-items:center;
  margin-bottom:16px;
}

.top .center{
  text-align:center;
  font-size:14px;
  font-weight:600;
  opacity:.95;
}

.icon{
  width:40px;
  height:40px;
  display:flex;
  align-items:center;
  justify-content:center;
  color:#fff;
}

.icon svg{
  width:22px;
  height:22px;
  display:block;
  fill:currentColor;
}

/* CAPA */
.cover{
  width:100%;
  aspect-ratio:1/1;
  border-radius:8px;
  overflow:hidden;
  margin-bottom:20px;
}

.cover img{
  width:100%;
  height:100%;
  object-fit:cover;
  display:block;
}

/* INFO */
.info h1{
  font-size:24px;
  font-weight:700;
  margin-bottom:6px;
}

.info p{
  font-size:15px;
  color:#b3b3b3;
}

/* PROGRESSO */
.progress{ margin:20px 0 10px; }

.time{
  display:flex;
  justify-content:space-between;
  font-size:12px;
  color:#b3b3b3;
  margin-bottom:6px;
}

.bar{
  width:100%;
  height:4px;
  background:#444;
  border-radius:2px;
  position:relative;
  overflow:hidden;
}

.bar-fill{
  position:absolute;
  left:0;
  top:0;
  height:100%;
  width:0%;
  background:#fff;
  border-radius:2px;
}

/* CONTROLES (estrutura travada) */
.controls{
  width:100%;
  position:relative;
  height:72px;
  margin:26px 0 34px;
  display:flex;
  align-items:center;
  justify-content:space-between;
}

.controls .side{
  display:flex;
  align-items:center;
  gap:34px;
  min-width:110px;
}

.controls .side.left{ justify-content:flex-start; }
.controls .side.right{ justify-content:flex-end; }

.ctrl{
  width:36px;
  height:36px;
  display:flex;
  align-items:center;
  justify-content:center;
  color:#fff;
  opacity:.95;
  user-select:none;
}

.ctrl svg{
  width:22px;
  height:22px;
  display:block;
  fill:currentColor;
}

/* ✅ Shuffle como IMG (o seu Shuffle 2v) — nunca entorta */
.shuffle-img{
  width:22px;
  height:22px;
  display:block;
  object-fit:contain;
}

/* Botão central (Play/Pause) */
.play{
  position:absolute;
  left:50%;
  transform:translateX(-50%);
  width:72px;
  height:72px;
  background:#fff;
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;
  color:#000;
  cursor:pointer;
  user-select:none;
}

.play svg{
  width:26px;
  height:26px;
  display:block;
  fill:currentColor;
}

/* SOBRE O CASAL */
.couple-card{
  margin-top:14px;
  background:rgba(255,255,255,.08);
  border-radius:16px;
  overflow:hidden;
}

.couple-cover{
  width:100%;
  height:240px;
  position:relative;
}

.couple-cover img{
  width:100%;
  height:100%;
  object-fit:cover;
  display:block;
}

.couple-cover .label{
  position:absolute;
  top:14px;
  left:14px;
  font-size:18px;
  font-weight:700;
  color:#fff;
  text-shadow:0 2px 10px rgba(0,0,0,.35);
}

.couple-body{ padding:16px; }

.couple-body h2{
  font-size:26px;
  font-weight:800;
  margin-bottom:6px;
}

.couple-body .sub{
  font-size:14px;
  color:#b3b3b3;
  margin-bottom:14px;
}

.stats{
  display:grid;
  grid-template-columns:repeat(3, 1fr);
  gap:12px;
  margin-bottom:12px;
}

.stat{
  background:rgba(0,0,0,.18);
  border-radius:12px;
  padding:14px 10px;
  text-align:center;
}

.stat .num{
  font-size:22px;
  font-weight:800;
  line-height:1.1;
}

.stat .lbl{
  margin-top:6px;
  font-size:12px;
  color:#b3b3b3;
}

.hours-row{
  display:grid;
  grid-template-columns:1fr;
}
.hours-row .stat .num{ font-size:28px; }
</style>
</head>

<body>
<div class="app">

  <div class="top">
    <div class="icon" aria-label="Voltar">
      <svg viewBox="0 0 24 24" aria-hidden="true">
        <path d="M6.7 8.3a1 1 0 0 1 1.4 0L12 12.2l3.9-3.9a1 1 0 1 1 1.4 1.4l-4.6 4.6a1 1 0 0 1-1.4 0L6.7 9.7a1 1 0 0 1 0-1.4z"/>
      </svg>
    </div>

    <div class="center">27/09</div>

    <div class="icon" aria-label="Menu">
      <svg viewBox="0 0 24 24" aria-hidden="true">
        <circle cx="5" cy="12" r="1.5"/>
        <circle cx="12" cy="12" r="1.5"/>
        <circle cx="19" cy="12" r="1.5"/>
      </svg>
    </div>
  </div>

  <div class="cover">
    <img src="img/capa.jpg" alt="Capa" loading="lazy" decoding="async">
  </div>

  <div class="info">
    <h1>Planos</h1>
    <p>BK, Luccas Carlos, Arit</p>
  </div>

  <div class="progress">
    <div class="time">
      <span id="tCurrent">0:00</span>
      <span id="tRemaining">-3:39</span>
    </div>
    <div class="bar">
      <div class="bar-fill" id="barFill"></div>
    </div>
  </div>

  <!-- CONTROLES (ordem fixa) -->
  <div class="controls">

    <div class="side left">
      <!-- SHUFFLE (SEU ARQUIVO) -->
      <div class="ctrl" aria-label="Aleatório">
        <!-- Espaço no nome = %20 -->
        <img class="shuffle-img" src="img/Shuffle%202v.svg" alt="Aleatório">
      </div>

      <!-- ANTERIOR -->
      <div class="ctrl" aria-label="Anterior">
        <svg viewBox="0 0 24 24" aria-hidden="true">
          <path d="M6 5h2v14H6V5zm3 7 11-7v14L9 12z"/>
        </svg>
      </div>
    </div>

    <!-- PLAY/PAUSE -->
    <div class="play" id="playBtn" aria-label="Play/Pause" title="Play/Pause"></div>

    <div class="side right">
      <!-- PRÓXIMA -->
      <div class="ctrl" aria-label="Próxima">
        <svg viewBox="0 0 24 24" aria-hidden="true">
          <path d="M16 5h2v14h-2V5zM4 19V5l11 7-11 7z"/>
        </svg>
      </div>

      <!-- REPETIR -->
      <div class="ctrl" aria-label="Repetir">
        <svg viewBox="0 0 24 24" aria-hidden="true">
          <path d="M17 1l4 4-4 4V6H7v4H5V4h12V1z"/>
          <path d="M7 23l-4-4 4-4v3h10v-4h2v6H7v3z"/>
        </svg>
      </div>
    </div>

  </div>

  <!-- SOBRE O CASAL -->
  <section class="couple-card">
    <div class="couple-cover">
      <img src="img/sobreocasal.jpg" alt="Juan e Beatriz" loading="lazy" decoding="async">
      <div class="label">Sobre o casal</div>
    </div>

    <div class="couple-body">
      <h2>Juan e Beatriz</h2>
      <div class="sub">Juntos desde setembro 2025</div>

      <div class="stats">
        <div class="stat"><div class="num" id="years">0</div><div class="lbl">Anos</div></div>
        <div class="stat"><div class="num" id="months">0</div><div class="lbl">Meses</div></div>
        <div class="stat"><div class="num" id="days">0</div><div class="lbl">Dias</div></div>
      </div>

      <div class="hours-row">
        <div class="stat">
          <div class="num" id="hoursTotal">0</div>
          <div class="lbl">Horas desde o primeiro encontro</div>
        </div>
      </div>
    </div>
  </section>

</div>

<!-- ÁUDIO -->
<audio id="audio" src="audio/SEU_ARQUIVO.mp3" preload="metadata" loop></audio>

<script>
(function () {
  // ======= PLAYER DE MÚSICA =======
  const audio = document.getElementById("audio");
  const playBtn = document.getElementById("playBtn");
  const barFill = document.getElementById("barFill");
  const tCurrent = document.getElementById("tCurrent");
  const tRemaining = document.getElementById("tRemaining");

  const FALLBACK_DURATION = 3 * 60 + 39; // 3:39 (se metadata não carregar)
  tRemaining.textContent = "-3:39"; // fixo (não diminui)

  function fmt(sec){
    sec = Math.max(0, Math.floor(sec));
    const m = Math.floor(sec / 60);
    const s = sec % 60;
    return m + ":" + String(s).padStart(2, "0");
  }

  function durationSafe(){
    return (Number.isFinite(audio.duration) && audio.duration > 0) ? audio.duration : FALLBACK_DURATION;
  }

  const PLAY_SVG = `
    <svg viewBox="0 0 24 24" aria-hidden="true">
      <path d="M8 5v14l11-7Z" fill="currentColor"></path>
    </svg>
  `;
  const PAUSE_SVG = `
    <svg viewBox="0 0 24 24" aria-hidden="true">
      <rect x="6" y="5" width="4" height="14" rx="1" fill="currentColor"></rect>
      <rect x="14" y="5" width="4" height="14" rx="1" fill="currentColor"></rect>
    </svg>
  `;

  function setPlayIcon(){ playBtn.innerHTML = PLAY_SVG; }
  function setPauseIcon(){ playBtn.innerHTML = PAUSE_SVG; }

  function updateUI(){
    const dur = durationSafe();
    const cur = Math.min(audio.currentTime || 0, dur);
    const pct = dur > 0 ? (cur / dur) * 100 : 0;
    barFill.style.width = pct + "%";
    tCurrent.textContent = fmt(cur);
  }

  async function togglePlay(){
    if (audio.paused) {
      try { await audio.play(); setPauseIcon(); }
      catch(e){ setPlayIcon(); }
    } else {
      audio.pause();
      setPlayIcon();
    }
  }

  setPlayIcon();
  try { audio.currentTime = 0; } catch(e) {}
  updateUI();

  playBtn.addEventListener("click", togglePlay);
  audio.addEventListener("timeupdate", updateUI);
  audio.addEventListener("loadedmetadata", updateUI);
  audio.addEventListener("play", () => setPauseIcon());
  audio.addEventListener("pause", () => setPlayIcon());
  audio.addEventListener("ended", () => { audio.currentTime = 0; updateUI(); });

  // ======= CONTADOR DO CASAL =======
  // 27/09/2025 às 12:00 (hora do PC)
  const start = new Date(2025, 8, 27, 12, 0, 0);

  const yearsEl = document.getElementById("years");
  const monthsEl = document.getElementById("months");
  const daysEl = document.getElementById("days");
  const hoursTotalEl = document.getElementById("hoursTotal");
  const nf = new Intl.NumberFormat("pt-BR");

  function addMonths(date, m){
    const d = new Date(date);
    const day = d.getDate();
    d.setMonth(d.getMonth() + m);
    if (d.getDate() < day) d.setDate(0);
    return d;
  }

  function addYears(date, y){
    const d = new Date(date);
    d.setFullYear(d.getFullYear() + y);
    return d;
  }

  function tick(){
    const now = new Date();

    if (now < start){
      yearsEl.textContent = 0;
      monthsEl.textContent = 0;
      daysEl.textContent = 0;
      hoursTotalEl.textContent = 0;
      return;
    }

    let years = now.getFullYear() - start.getFullYear();
    let cursor = addYears(start, years);
    if (cursor > now){
      years--;
      cursor = addYears(start, years);
    }

    let months = (now.getMonth() - cursor.getMonth()) + (now.getFullYear() - cursor.getFullYear()) * 12;
    let cursor2 = addMonths(cursor, months);
    if (cursor2 > now){
      months--;
      cursor2 = addMonths(cursor, months);
    }

    const diffMs = now - cursor2;
    const days = Math.floor(diffMs / (24*60*60*1000));
    const totalHours = Math.floor((now - start) / (1000*60*60));

    yearsEl.textContent = years;
    monthsEl.textContent = months;
    daysEl.textContent = days;
    hoursTotalEl.textContent = nf.format(totalHours);
  }

  tick();
  setInterval(tick, 1000);
})();
</script>

</body>
</html>
